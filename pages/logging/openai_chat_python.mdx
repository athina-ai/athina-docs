# OpenAI Chat - Python

_If you're using OpenAI chat completions in Python, you can get set up in just **30 seconds**_

##### Supported Models

- Any OpenAI chat completion model (ex: `gpt-3.5-turbo`) _as long as you are not using streaming_

##### 1. Install the Python SDK

Run `pip install athina-logger`

##### 2. Replace OpenAI import

Replace your `import openai` with this:

```python
from athina_logger.api_key import AthinaApiKey
from athina_logger.athina_meta import AthinaMeta
from athina_logger.openai_wrapper import openai
```

##### 3. Set Athina API key

```python
# Initialize the Athina API key somewhere in your code
AthinaApiKey.set_api_key(os.getenv('ATHINA_API_KEY'))
```

##### 4. Use OpenAI ChatCompletion request as you do normally

```python
# Use openai.ChatCompletion just as you would normally
# Add fields to AthinaMeta for better segmentation of your data
openai.ChatCompletion.create(
    model="gpt-4",
    messages=messages,
    stream=False,
    athina_meta=AthinaMeta(
        prompt_slug="yc_rag_v1",
        user_query="How much funding does Y Combinator provide?", # For RAG Q&A systems, log the user's query
        context={"information": retrieved_documents} # Your retrieved documents
        session_id=session_id, # Conversation ID
        customer_id=customer_id, # Your Customer's ID
        customer_user_id=customer_id, # Your End User's ID
        environment=environment, # Environment (production, staging, dev, etc)
        external_reference_id="ext_ref_123456",
    ),
)
```

---

### Frequently Asked Questions

##### Q. What is AthinaMeta

_The `AthinaMeta` fields are used for segmentation of your data on the dashboard. All these fields are optional, but highly recommended._

```python
class AthinaMeta:
    prompt_slug: Optional[str] = None
    context: Optional[dict] = None
    customer_id: Optional[dict] = None
    customer_user_id: Optional[dict] = None
    session_id: Optional[dict] = None
    user_query: Optional[dict] = None
    environment: Optional[dict] = None
    external_reference_id: Optional[dict] = None
    customer_id: Optional[str] = None
    customer_user_id: Optional[str] = None
    response_time: Optional[int] = None
```
