# Running Evals from CLI

You can also use Athina's evals purely from the command line.

## Initialize Config

To get started, initialize Athina and enter your OpenAI and Athina API keys.

These will be saved into a file called `athina_config.yml` in your working directory.

```bash
$ athina init
```

```
Enter your OpenAI API key: sk-abcd23jnedi23ndo23n34ind
Enter your Athina API key: 23idni23nod3QWn2in3d
Configuration updated successfully. See athina_config.yml for details.
```

#### View config

To view the config that has been set, you can see the `athina_config.yml` file.

You can also run:

```bash
$ athina config
```

```
{'athina_api_key': '23idni23nod3QWn2in3d', 'openai_api_key': 'sk-abcd23jnedi23ndo23n34ind'}
```

## Running Evals

#### List available evals

```bash
$ athina list
```

```
- ContainsAny
- ContextContainsEnoughInformation
- CustomPrompt
- DoesResponseAnswerQuery
- Faithfulness
- GradingCriteria
- LlmEvaluator
- RagasContextRelevancy
- SummaryAccuracy
```

#### ▷ Run an eval on a single datapoint

```
$ athina run Faithfulness \
context="Neil Armstrong was the first man on the moon." \
response="The Apollo 11 was the first spaceship to land on the moon."
```

#### ▷ Run an eval on a dataset

```
$ athina run Faithfulness \
  --format=json \
  --filename="datasets/rag_dataset_sample_2.json" \
  --model=gpt-3.5-turbo
```

Arguments:

- `--format` - the format of the dataset. Defaults to `json`.
- `--filename` - the filename of the dataset. Defaults to `datasets/rag_dataset_sample_2.json`.
- `--model` (optional) - the model to use for the eval.

```
Running batch with format=json, model=gpt-3.5-turbo, filename=datasets/rag_dataset_sample_2.json, kwargs={}

Evaluation: Faithfulness
Model: gpt-3.5-turbo
Runtime: 0.0 minutes and 1.66 seconds


Results:

————————————————————————————————

Data: {'query': 'When did Virgin Australia start operating?', 'context': '"Virgin Australia, the trading name of Virgin Australia Airlines Pty Ltd, is an Australian-based airline. It is the largest airline by fleet size to use the Virgin brand. It commenced services on 31 August 2000 as Virgin Blue, with two aircraft on a single route. It suddenly found itself as a major airline in Australia\'s domestic market after the collapse of Ansett Australia in September 2001. The airline has since grown to directly serve 32 cities in Australia, from hubs in Brisbane, Melbourne and Sydney."', 'response': 'Virgin Australia commenced services on 31 August 2000 as Virgin Blue, with two aircraft on a single route.'}

✅ PASSED

Reason: The response can be inferred from the provided context. The context states that Virgin Australia commenced services on 31 August 2000 as Virgin Blue, with two aircraft on a single route. The response accurately reflects this information.

Metrics: [{'id': 'passed', 'value': 1.0}]

————————————————————————————————

Data: {'query': 'When was Tomoaki Komorida born?', 'context': '"Komorida was born in Kumamoto Prefecture on July 10, 1981. After graduating from high school, he joined the J1 League club Avispa Fukuoka in 2000. Although he debuted as a midfielder in 2001, he did not play much and the club was relegated to the J2 League at the end of the 2001 season. In 2002, he moved to the J2 club Oita Trinita. He became a regular player as a defensive midfielder and the club won the championship in 2002 and was promoted in 2003. He played many matches until 2005. In September 2005, he moved to the J2 club Montedio Yamagata. In 2006, he moved to the J2 club Vissel Kobe. Although he became a regular player as a defensive midfielder, his gradually was played less during the summer. In 2007, he moved to the Japan Football League club Rosso Kumamoto (later Roasso Kumamoto) based in his local region. He played as a regular player and the club was promoted to J2 in 2008. Although he did not play as much, he still played in many matches. In 2010, he moved to Indonesia and joined Persela Lamongan. In July 2010, he returned to Japan and joined the J2 club Giravanz Kitakyushu. He played often as a defensive midfielder and center back until 2012 when he retired."', 'response': 'Tomoaki Komorida was born on July 10,1981.'}

✅ PASSED

Reason: The response can be inferred from the provided context. The context states that Tomoaki Komorida was born on July 10, 1981, and the response confirms this information.

Metrics: [{'id': 'passed', 'value': 1.0}]
```
